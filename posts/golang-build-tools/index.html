<!DOCTYPE html>
<html lang="ko-kr">
<head>
    <meta name="google-site-verification" content="iGuwne5LJzJBBoCxsCg4BhAYCzXlzuvrOufVjQCreyA" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>&gt; /tmp</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://jiwonaid.github.io/hugo-theme-console/css/terminal-0.7.1.min.css">
    <link rel="stylesheet" href="https://jiwonaid.github.io/hugo-theme-console/css/animate-3.7.2.min.css">
    <link rel="stylesheet" href="https://jiwonaid.github.io/hugo-theme-console/css/console.css">
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <meta property="og:title" content="Golang Build Tools" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jiwonaid.github.io/posts/golang-build-tools/" /><meta property="article:published_time" content="2022-02-01T16:20:07+09:00" />



<meta name="twitter:title" content="Golang Build Tools"/>
<meta name="twitter:description" content="부제: golang 프로젝트를 빌드하는 개발자를 위한 안내서 (Happy Hacking하지만 make로 빌드하고 싶지 않은 개발자를 위한 안내서) 고랭 빌드에 어떤 툴이 좋을까요? 정해진 답은 없지만 오늘은
~ 한 GoReleaser와
~한 구글의 Bazel(bazel-gazelle)에 대해서 알아봅시다.
1. 프로젝트 준비 아래와 같이 간단한 golang 기반의 CLI 프로젝트를 준비합니다.
go get -u github.com/spf13/cobra mkdir myapp cd myapp go mod init myapp cobra init --pkg-name myapp go get github.com/mitchellh/go-homedir go get github.com/spf13/cobra go get github.com/spf13/viper 아래와 같은 결과가 출력됩니다."/>

</head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav" onclick="focusTerminal()">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://jiwonaid.github.io/" class="no-style ">&gt; /tmp</a>:/<spam id="path"><a href='https://jiwonaid.github.io/posts'>posts</a>/<a href='https://jiwonaid.github.io/posts/golang-build-tools'>golang-build-tools</a>/</spam>$
              <input id="input" autofocus style="color: transparent; text-shadow: 0 0 0 black;"></div></header>
          
        </div>
        <p id="output">Supported commands: ls, cd ${PATH}</p>
    </div>

    <div class="container " >
        
<h1>Golang Build Tools</h1>

Feb. 1, 2022


<br/><br/>
<h2 id="부제-golang-프로젝트를-빌드하는-개발자를-위한-안내서-happy-hacking하지만-make로-빌드하고-싶지-않은-개발자를-위한-안내서">부제: golang 프로젝트를 빌드하는 개발자를 위한 안내서 <del>(Happy Hacking하지만 make로 빌드하고 싶지 않은 개발자를 위한 안내서)</del></h2>
<p>고랭 빌드에 어떤 툴이 좋을까요? 정해진 답은 없지만 오늘은</p>
<p>~ 한 <a href="https://goreleaser.com/">GoReleaser</a>와</p>
<p>~한 구글의 <a href="https://bazel.build/">Bazel(bazel-gazelle)</a>에 대해서 알아봅시다.</p>
<h3 id="1-프로젝트-준비">1. 프로젝트 준비</h3>
<p>아래와 같이 간단한 golang 기반의 CLI 프로젝트를 준비합니다.</p>
<pre><code>go get -u github.com/spf13/cobra

mkdir myapp
cd myapp
go mod init myapp

cobra init --pkg-name myapp

go get github.com/mitchellh/go-homedir
go get github.com/spf13/cobra
go get github.com/spf13/viper
</code></pre><p>아래와 같은 결과가 출력됩니다.</p>
<pre><code># cd myapp

go run main.go
A longer description that spans multiple lines and likely contains
examples and usage of using your application. For example:

Cobra is a CLI library for Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.
</code></pre><p>이제 2-A, 2-B 중 취향에 빌드 도구를 선택하여 적용합니다.</p>
<h3 id="2-a-goreleaser-적용">2-A. GoReleaser 적용</h3>
<p>GoReleaser is a release automation tool for Go projects. The goal is to simplify the build, release and publish steps while providing variant customization options for all steps.</p>
<p>GoReleaser는 Go 프로젝트들을 위한 릴리즈 자동화 도구로 빌드, 릴리즈, 퍼블리시를 간소화하고 다양한 사용자 옵션을 제공하는 것이 목표입니다.</p>
<pre><code># brew install goreleaser/tap/goreleaser
brew install goreleaser
</code></pre><pre><code>goreleaser init

# https://github.com/settings/tokens
# write:packages
export GITHUB_TOKEN=&quot;YOUR_GH_TOKEN&quot;
export GITHUB_TOKEN=&quot;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&quot;

git tag -a v0.1.0 -m &quot;First release&quot;
git push origin v0.1.0

goreleaser release
</code></pre><h3 id="2-b-bazelbazel-gazelle-적용">2-B. Bazel(bazel-gazelle) 적용</h3>



        <div class="footer">
    Powered by <a href="https://gohugo.io/">Hugo</a>.
</div>

    </div>
  </body>
  <script>
    var input = document.getElementById("input");
    input.style.width = "1ch";

    input.blur();
    function focusTerminal() {
      input.focus();
    }

    input.addEventListener('input', function () {
      input.style.width = input.value.length + 1 + "ch";
    });

    input.addEventListener('keydown', function () {
      if (event.key == 'Enter') {
        if (input.value == "ls") {
          var path = document.getElementById("path");
          var output = document.getElementById("output");
          var text = ".\n..\n";

          if ( path.innerText == "") {
            text += "about\nposts";
          }
          else if (path.innerText == "posts/") {
            text += "";
            text = text.replace(/\/posts\//g, "");
            text = text.replace(/\//g, "\n");
          }

          input.value = "";
          input.style.width = "1ch";
          output.innerText = text;
        }
        else if (input.value.substr(0, 3) == "cd ") {
          var text = input.value;
          text = text.replace("cd ", "");
          window.location.href = text;
        }
      }
    });
  </script>
</html>
